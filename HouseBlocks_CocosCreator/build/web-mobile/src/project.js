require=function r(a,i,s){function l(t,o){if(!i[t]){if(!a[t]){var e="function"==typeof require&&require;if(!o&&e)return e(t,!0);if(u)return u(t,!0);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}var n=i[t]={exports:{}};a[t][0].call(n.exports,function(o){return l(a[t][1][o]||o)},n,n.exports,r,a,i,s)}return i[t].exports}for(var u="function"==typeof require&&require,o=0;o<s.length;o++)l(s[o]);return l}({CollisionManager:[function(o,t,e){"use strict";cc._RF.push(t,"a00b4da9iZP44MoJZX6URzO","CollisionManager");var g=o("GlobalData");cc.Class({extends:cc.Component,properties:{scoreLabel:cc.Label,bottom:cc.Node,backgroundColor:cc.Sprite,audio:cc.AudioClip},onBeginContact:function(o,t,e){var c=o.getWorldManifold().points;if(1<g.HouseVector.length&&c[0].y<1&&cc.director.loadScene("GameOverScene"),this.scoreLabel.string="分数："+g.HouseVector.length,c[0].y>cc.winSize.height/4){var n=cc.moveTo(.5,cc.v2(this.bottom.x,this.bottom.y-g.HouseVector[0].getContentSize().height));this.bottom.runAction(n);var r=!0,a=!1,i=void 0;try{for(var s,l=g.HouseVector[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;n=cc.moveTo(.5,u.x,u.y-u.getContentSize().height);u.runAction(n)}}catch(o){a=!0,i=o}finally{try{!r&&l.return&&l.return()}finally{if(a)throw i}}}if(2<g.HouseVector.length){var h=cc.tintTo(2,120,232,254),d=cc.tintBy(2,120,232,254),p=cc.tintTo(0,0,0,0),f=cc.sequence(h,d,p);this.backgroundColor.node.runAction(f)}this.current=cc.audioEngine.play(this.audio,!1,1)}}),cc._RF.pop()},{GlobalData:"GlobalData"}],GameOverScene:[function(o,t,e){"use strict";cc._RF.push(t,"972b2XOvzFA9IvaULAh0wLN","GameOverScene");var c=o("GlobalData");cc.Class({extends:cc.Component,properties:{score:cc.Label,restartBtn:cc.Button,list:cc.Label},start:function(){this.score.string=c.HouseVector.length,c.scoreVector.push(this.score.string),c.scoreVector.sort(),this.list.string=c.scoreVector[c.scoreVector.length-1],this.restartBtn.node.on("click",this.gotoPlayScene,this)},gotoPlayScene:function(){cc.director.loadScene("PlayScene")}}),cc._RF.pop()},{GlobalData:"GlobalData"}],GlobalData:[function(o,t,e){"use strict";cc._RF.push(t,"7f9814DO85E77/dUJScK+ox","GlobalData");var c={HouseVector:null,numFive:null,score:null,scoreVector:[],randColor:function(){var o=55+200*cc.random0To1(),t=55+200*cc.random0To1(),e=55+200*cc.random0To1(),c=55+200*cc.random0To1();return cc.color(o,t,e,c)}};t.exports=c,cc._RF.pop()},{}],PlayScene:[function(o,t,e){"use strict";cc._RF.push(t,"acec6fuRF9BZJjsK3UHefh4","PlayScene");var c=o("GlobalData");cc.Class({extends:cc.Component,properties:{backgroundColor:cc.Sprite,backBtn:cc.Button,house_onRope:cc.Node,houseColor:cc.Sprite,house:cc.Node},scoreString:null,randColor:c.randColor,onLoad:function(){this.gravity=cc.v2(0,-320),cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=this.gravity,this.backgroundColor.node.on("touchstart",function(o){cc.log("touched!"),this.addHouse()},this),c.HouseVector=[]},start:function(){this.backBtn.node.on("click",this.backToStartScene,this),this.houseColor.node.color=this.randColor()},backToStartScene:function(){cc.director.loadScene("StartScene")},addHouse:function(){var o=cc.instantiate(this.house);o.parent=this.backgroundColor.node,o.setPosition(this.house_onRope.x,this.house_onRope.y-50);var t=o.getComponent(cc.Graphics);t.rect(-25,-25,50,50),t.fillColor=this.randColor(),t.fill(),c.HouseVector.push(o),c.numFive=c.HouseVector.length%5==0,cc.log(c.numFive)},update:function(o){c.numFive},onDestroy:function(){this.unschedule(this.update)}}),cc._RF.pop()},{GlobalData:"GlobalData"}],StartScene:[function(o,t,e){"use strict";cc._RF.push(t,"95a22xhUZ5Bo5IdfjcyArJj","StartScene"),cc.Class({extends:cc.Component,properties:{default:null,type:cc.Node,startBtn:cc.Button},start:function(){this.startBtn.node.on("click",this.gotoPlayScene,this)},gotoPlayScene:function(){cc.director.loadScene("PlayScene")}}),cc._RF.pop()},{}]},{},["CollisionManager","GameOverScene","GlobalData","PlayScene","StartScene"]);